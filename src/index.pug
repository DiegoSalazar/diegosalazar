doctype html
html(lang="en" class="dark")
  head
    meta(charset="UTF-8")
    meta(name="viewport", content="width=device-width, initial-scale=1.0")
    title= `${cv.basics.name} | ${cv.basics.label}`
    link(rel="stylesheet", href="styles.css")
    link(rel="preconnect", href="https://fonts.googleapis.com")
    link(rel="preconnect", href="https://fonts.gstatic.com", crossorigin)
    link(href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap", rel="stylesheet")
    style.
      html { scroll-behavior: smooth; }

  body(class="bg-gray-900 text-gray-100 font-sans")
    //- Header & Hero Section
    header#home(class="bg-black")
      div(class="container mx-auto px-6 py-20")
        div(class="flex flex-col items-center text-center")
          img(src=cv.basics.image, alt="Profile Picture", class="w-32 h-32 md:w-40 md:h-40 rounded-full mb-6 border-4 border-gray-700 shadow-lg")
          h1(class="text-4xl md:text-6xl font-bold tracking-tighter")= cv.basics.name
          h2(class="text-xl md:text-2xl text-gray-400 mt-2")= cv.basics.label
          if cv.basics.tagline
            p(class="text-lg text-gray-500 mt-4 italic")= cv.basics.tagline
          nav(class="mt-8 flex flex-wrap justify-center gap-4")
            a(href="#about" class="text-gray-300 hover:text-white transition-colors px-3 py-1") About
            a(href="#projects" class="text-gray-300 hover:text-white transition-colors px-3 py-1") Projects
            a(href="#experience" class="text-gray-300 hover:text-white transition-colors px-3 py-1") Experience
            a(href="#testimonials" class="text-gray-300 hover:text-white transition-colors px-3 py-1") Testimonials
            a(href="#contact" class="text-gray-300 hover:text-white transition-colors px-3 py-1") Contact

    //- Main Content Wrapper
    div(class="container mx-auto px-6 py-20")
      div(class="lg:grid lg:grid-cols-3 lg:gap-12")
        //- Left/Main Column
        main(class="lg:col-span-2")
          //- About Section
          section#about
            h2(class="text-3xl md:text-4xl font-bold tracking-tighter mb-6") About Me
            div(class="prose prose-invert prose-lg max-w-none text-left")
              p= cv.basics.summary

          //- Experience Section
          section#experience(class="mt-20")
            h2(class="text-3xl md:text-4xl font-bold tracking-tighter mb-12") Work Experience
            div(class="relative border-l-2 border-gray-700 pl-8")
              each job, index in cv.work
                div(class="mb-12")
                  span(class="absolute -left-3 flex items-center justify-center w-6 h-6 bg-blue-600 rounded-full")
                    span(class="w-3 h-3 bg-white rounded-full")
                  h3(class="text-2xl font-bold")= job.position
                  p(class="text-lg text-gray-400")= `${job.name} | ${job.startDate} - ${job.endDate}`
                  if job.summary
                    p(class="mt-2 text-gray-300")= job.summary
                  if job.highlights
                    ul(class="list-disc list-inside mt-2 text-gray-300")
                      each highlight in job.highlights
                        li= highlight
          
          //- Projects Section
          section#projects(class="mt-20")
            h2(class="text-3xl md:text-4xl font-bold tracking-tighter mb-12") Personal Projects
            div(class="grid grid-cols-1 md:grid-cols-2 gap-8")
              each project in cv.projects
                div(class="bg-gray-800 rounded-lg overflow-hidden transform transition-transform hover:scale-105 shadow-lg flex flex-col")
                  if project.images && project.images.length > 0
                    img(src=project.images[0], alt=project.name, class="w-full h-48 object-cover")
                  div(class="p-6 flex flex-col flex-grow")
                    h3(class="text-xl font-bold")= project.name
                    p(class="text-gray-400 mt-2 flex-grow")= project.summary
                    div(class="mt-4")
                      if project.url
                        a(href=project.url, target="_blank", rel="noopener noreferrer", class="text-blue-400 hover:underline mr-4") View Project
                      if project.githubUrl
                        a(href=project.githubUrl, target="_blank", rel="noopener noreferrer", class="text-blue-400 hover:underline") View on GitHub

          //- Testimonials Section
          section#testimonials(class="mt-20")
            h2(class="text-3xl md:text-4xl font-bold tracking-tighter mb-12") Testimonials
            div(class="space-y-8")
              each ref in cv.references
                div(class="bg-gray-800 p-6 rounded-lg shadow-lg")
                  blockquote(class="border-l-4 border-blue-500 pl-4")
                    p(class="text-gray-300 italic")= ref.reference
                    footer(class="mt-4")
                      cite(class="font-bold not-italic")= ref.name
                      if ref.title
                        span(class="text-gray-400")= `, ${ref.title}`

        //- Right/Sidebar Column
        aside(class="lg:col-span-1 mt-20 lg:mt-0")
          //- Skills Section
          section#skills
            h2(class="text-2xl font-bold tracking-tight mb-6") Skills
            if cv.skills.summary
              p(class="text-gray-400 mb-6")= cv.skills.summary
            div(class="flex flex-wrap gap-2")
              each skill in cv.skills.sets
                span(class="bg-gray-700 text-white px-3 py-1 rounded-full text-sm")= skill.name
            div(class="mt-8 flex flex-wrap items-center gap-4")
              each profile in cv.basics.profiles
                if profile.network === 'Stack Overflow' && profile.flair
                  a(href=profile.url, target="_blank")
                    img(src=profile.flair, alt="Stack Overflow Flair")
                if profile.network === 'Codewars' && profile.badge
                  a(href=profile.url, target="_blank")
                    img(src=profile.badge, alt="Codewars Badge")
          
          //- Education
          section#education(class="mt-12")
            h2(class="text-2xl font-bold tracking-tight mb-6") Education
            div(class="space-y-4")
              each course in cv.education
                div
                  h3(class="font-semibold")= course.area
                  p(class="text-gray-400")= `${course.institution} (${course.startDate} - ${course.endDate})`

          //- Languages
          section#languages(class="mt-12")
            h2(class="text-2xl font-bold tracking-tight mb-6") Languages
            div(class="space-y-2")
              each lang in cv.languages
                div
                  h3(class="font-semibold")= lang.language
                  p(class="text-gray-400")= lang.fluency

    //- Contact Section
    footer#contact(class="bg-black mt-20 py-20 text-center")
      div(class="container mx-auto px-6")
        h2(class="text-3xl md:text-4xl font-bold tracking-tighter mb-6") Get in Touch
        p(class="text-lg text-gray-400 mb-8") You can reach me via email or find me on social media.
        if cv.meta.resumeUrl
          a(href=cv.meta.resumeUrl, target="_blank", class="bg-blue-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors text-lg inline-block mb-8") Download Resume
        div(class="flex justify-center gap-6 mt-8")
          each profile in cv.basics.profiles
            a(href=profile.url, target="_blank", rel="noopener noreferrer", class="text-gray-400 hover:text-white transition-colors text-2xl")
              if profile.network.toLowerCase() === 'github'
                i(class="fab fa-github")
              else if profile.network.toLowerCase() === 'linkedin'
                i(class="fab fa-linkedin")
              else if profile.network.toLowerCase() === 'twitter'
                i(class="fab fa-twitter")
              else if profile.network.toLowerCase() === 'stack overflow'
                i(class="fab fa-stack-overflow")
              else if profile.network.toLowerCase() === 'spotify'
                i(class="fab fa-spotify")
              else
                span= profile.network
        if cv.meta.credits
          div(class="text-sm text-gray-600 mt-12")
            each credit in cv.meta.credits
              span.px-2
                if credit.url
                  a(href=credit.url, target="_blank", class="hover:underline")= credit.name
                else
                  = credit.name
    
    //- Font Awesome for social icons
    script(src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous")
